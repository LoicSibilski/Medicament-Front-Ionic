<ion-content color="primary">
    <ion-text color="dark">
        <h1>Medical</h1>
    </ion-text>

    <ion-label *ngIf="this.users.length > 0"><h1>Utilisateur(s) du compte</h1></ion-label>
    <div *ngIf="this.users.length > 0">
        <ion-list *ngFor="let user of users">
                    <ion-item-sliding #itemSliding>
                        <ion-item>
                            <ion-icon class="person-circle" name="person-circle"></ion-icon>
                            <ion-text><h1>{{user.nom}} {{user.prenom}}</h1></ion-text>
                            <ion-text *ngIf="user.id == this.utilisateurIdSession">(connecté)</ion-text>
                        </ion-item>
                        <ion-item-options side="end">
                            <ion-item-option color="medium">
                                <ion-icon class="side-icon" name="settings"></ion-icon>
                            </ion-item-option>
                        </ion-item-options>
                        <ion-item-options side="start">
                            <ion-item-option *ngIf="user.id != this.utilisateurIdSession" color="success"
                                (click)="changerUtilisateur(user.id, itemSliding)">
                                <ion-icon class="side-icon" name="log-in-outline"></ion-icon>
                            </ion-item-option>
                            <ion-item-option *ngIf="user.id == this.utilisateurIdSession" color="danger"
                                (click)="seDeconnecter(itemSliding)">
                                <ion-icon class="side-icon" name="log-out-outline"></ion-icon>
                            </ion-item-option>
                        </ion-item-options>
        </ion-item-sliding>
    </ion-list>
    </div>
        
 <!--
    <ion-card *ngIf="this.assistants.length > 0">
        <ion-card-header color="tertiary">
            <ion-card-title>Assistant(s) des utilisateurs</ion-card-title>
        </ion-card-header>
        <ion-list *ngFor="let assistant of assistants">
            <ion-item>
                <ion-icon name="person-circle"></ion-icon>
                <ion-text>{{assistant.nom}} {{assistant.prenom}}</ion-text>
            </ion-item>
            <ion-item-options side="end">
                <ion-item-option color="danger">
                    <ion-icon name="trash"></ion-icon>
                </ion-item-option>
            </ion-item-options>
        </ion-list>
    </ion-card>
    <ion-card *ngIf="this.assistes.length > 0">
        <ion-card-header color="tertiary">
            <ion-card-title>Assisté(s) des utilisateurs</ion-card-title>
        </ion-card-header>
        <ion-list *ngFor="let assiste of assistes">
            <ion-item>
                <ion-icon name="person-circle"></ion-icon>
                <ion-text>{{assiste.nom}} {{assiste.prenom}}</ion-text>
            </ion-item>
            <ion-item-options side="end">
                <ion-item-option color="danger">
                    <ion-icon name="trash"></ion-icon>
                </ion-item-option>
            </ion-item-options>
        </ion-list>
    </ion-card>
-->

    <ion-button *ngIf="users.length < 3" expand="full" size="large" color="success" routerLink="/utilisateurs/create">Ajouter un utilisateur</ion-button>
    <ion-button expand="full" size="large" color="success" routerLink="/home" *ngIf="aucunUtilisateurConnecte()">Se connecter</ion-button>

    <div class="bottom">
        <ion-button expand="full" size="large" color="danger" routerLink="/connexion">Déconnexion</ion-button>
    </div>
</ion-content>